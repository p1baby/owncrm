import Et from"./DiiiO3no.js";import{_ as xt}from"./vAGshnmf.js";import{u as nn,a as Tt}from"./CEL2v70B.js";import{D as Ge,a as Je,b as ct,g as rn,c as an,d as on}from"./D6PpEwZq.js";import{s as Q,v as ln,x as Ct,g as H,y as C,o as O,c as M,a as q,j as T,l as Ee,b as N,m as pe,k as Te,t as J,z as _e,F as xe,_ as Pe,r as ae,n as Z,A as sn,w as I,d as we,B as un,q as nt,C as dn,D as cn,E as x,G as Ze,H as ft,I as Ye,J as rt,K as fn,L as pn,M as mn,N as ne,O as re,P as vn,Q as U,R as X,S as le,i as Ce,T as hn,U as gn,V as yn,W as bn,X as Ie}from"./DKUuba3I.js";import{v as kt}from"./D8aEg3BZ.js";import{c as ke}from"./B4sdexvR.js";import{c as Ot}from"./Duc0wxzB.js";import{u as Dt}from"./BCNjI4Gw.js";import"./qsMMcMsd.js";const wn=Symbol.for("nuxt:client-only"),$n="data-n-ids",_n="-";function Sn(e){var a,o,l,s,i,u;if(typeof e!="string")throw new TypeError("[nuxt] [useId] key must be a string.");e=`n${e.slice(1)}`;const t=ln(),n=Ct();if(!n)throw new TypeError("[nuxt] `useId` must be called within a component setup function.");t._id||(t._id=0),n._nuxtIdIndex||(n._nuxtIdIndex={}),(a=n._nuxtIdIndex)[e]||(a[e]=0);const r=e+_n+n._nuxtIdIndex[e]++;if(t.payload.serverRendered&&t.isHydrating&&!Q(wn,!1)){const d=((o=n.vnode.el)==null?void 0:o.nodeType)===8&&((s=(l=n.vnode.el)==null?void 0:l.nextElementSibling)!=null&&s.getAttribute)?(i=n.vnode.el)==null?void 0:i.nextElementSibling:n.vnode.el,h=JSON.parse(((u=d==null?void 0:d.getAttribute)==null?void 0:u.call(d,$n))||"{}");if(h[r])return h[r]}return e+"_"+t._id++}function En(e,t){const n={...e};for(const r of t)delete n[r];return n}function xn(e,t,n){typeof t=="string"&&(t=t.split(".").map(a=>{const o=Number(a);return isNaN(o)?a:o}));let r=e;for(const a of t){if(r==null)return n;r=r[a]}return r!==void 0?r:n}const Tn={class:"text-center mb-2"},Cn=["disabled"],kn=H({__name:"CreateDeal",props:{status:{type:String,default:""},refetch:{type:Function}},setup(e){const t=C(!1),n=e,{handleSubmit:r,defineField:a,handleReset:o}=nn({initialValues:{status:n.status}}),[l,s]=a("name"),[i,u]=a("price"),[d,h]=a("customer.email"),[g,v]=a("customer.name"),{mutate:w,isPending:$}=Tt({mutationKey:["create a new deal"],mutationFn:B=>Ge.createDocument(Je,ct,kt(),B),onSuccess(){n.refetch&&n.refetch(),o()}}),F=r(B=>{w(B)});return(B,A)=>{const W=Et,ee=xt;return O(),M(xe,null,[q("div",Tn,[q("button",{class:"transition-all opacity-5 hover:opacity-100 hover:text-[#FFFFF]",onClick:A[0]||(A[0]=R=>t.value=!T(t))},[T(t)?(O(),Ee(W,{key:0,name:"radix-icons:arrow-up",class:"fade-in-100 fade-out-0",size:"35"})):(O(),Ee(W,{key:1,name:"radix-icons:plus-circled",class:"fade-in-100 fade-out-0",size:"35"}))])]),T(t)?(O(),M("form",{key:0,onSubmit:A[5]||(A[5]=(...R)=>T(F)&&T(F)(...R)),class:"form"},[N(ee,pe({placeholder:"Имя сотрудника",modelValue:T(l),"onUpdate:modelValue":A[1]||(A[1]=R=>Te(l)?l.value=R:null)},T(s),{type:"text",class:"input"}),null,16,["modelValue"]),N(ee,pe({placeholder:"Адрес точки",modelValue:T(g),"onUpdate:modelValue":A[2]||(A[2]=R=>Te(g)?g.value=R:null)},T(v),{type:"text",class:"input"}),null,16,["modelValue"]),N(ee,pe({placeholder:"Выручка",modelValue:T(i),"onUpdate:modelValue":A[3]||(A[3]=R=>Te(i)?i.value=R:null)},T(u),{type:"text",class:"input"}),null,16,["modelValue"]),N(ee,pe({placeholder:"Email сотрудника",modelValue:T(d),"onUpdate:modelValue":A[4]||(A[4]=R=>Te(d)?d.value=R:null)},T(h),{type:"text",class:"input"}),null,16,["modelValue"]),q("button",{class:"btn",disabled:T($)},J(T($)?"Загрузка...":"Добавить"),9,Cn)],32)):_e("",!0)],64)}}}),On=Pe(kn,[["__scopeId","data-v-fb071638"]]),Dn=H({__name:"Card",props:{class:{}},setup(e){const t=e;return(n,r)=>(O(),M("div",{class:Z(T(ke)("rounded-lg bg-card text-card-foreground animation border border-transparent transition-colors hover:border-[#FFFFF] px-1",t.class))},[ae(n.$slots,"default",{},void 0,!0)],2))}}),Fn=Pe(Dn,[["__scopeId","data-v-145d3e9b"]]),Ln=H({__name:"CardHeader",props:{class:{}},setup(e){const t=e;return(n,r)=>(O(),M("div",{class:Z(T(ke)("flex flex-col space-y-1.5 p-3 text-xl font-bold",t.class))},[ae(n.$slots,"default")],2))}}),An=H({__name:"CardDescription",props:{class:{}},setup(e){const t=e;return(n,r)=>(O(),M("p",{class:Z(T(ke)("text-lg italic text-muted-foreground",t.class))},[ae(n.$slots,"default")],2))}}),Mn=H({__name:"CardContent",props:{class:{}},setup(e){const t=e;return(n,r)=>(O(),M("div",{class:Z(T(ke)("p-3 pt-0 text-sm",t.class))},[ae(n.$slots,"default")],2))}}),Pn=H({__name:"CardFooter",props:{class:{}},setup(e){const t=e;return(n,r)=>(O(),M("div",{class:Z(T(ke)("p-3 pt-0 text-xs opacity-70 italic",t.class))},[ae(n.$slots,"default")],2))}}),Nn={class:"mb-3"},Hn={key:0,class:"opacity-75 mb-0.5 block text-xs"},Rn={class:"text-base"},jn=H({__name:"Label",props:{labelText:{type:String,default:""}},setup(e){return(t,n)=>(O(),M("div",Nn,[e.labelText?(O(),M("label",Hn,J(e.labelText),1)):_e("",!0),q("div",Rn,[ae(t.$slots,"default")])]))}});var Ft={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(an,function(){var n=1e3,r=6e4,a=36e5,o="millisecond",l="second",s="minute",i="hour",u="day",d="week",h="month",g="quarter",v="year",w="date",$="Invalid Date",F=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(b){var f=["th","st","nd","rd"],c=b%100;return"["+b+(f[(c-20)%10]||f[c]||f[0])+"]"}},W=function(b,f,c){var m=String(b);return!m||m.length>=f?b:""+Array(f+1-m.length).join(c)+b},ee={s:W,z:function(b){var f=-b.utcOffset(),c=Math.abs(f),m=Math.floor(c/60),p=c%60;return(f<=0?"+":"-")+W(m,2,"0")+":"+W(p,2,"0")},m:function b(f,c){if(f.date()<c.date())return-b(c,f);var m=12*(c.year()-f.year())+(c.month()-f.month()),p=f.clone().add(m,h),_=c-p<0,S=f.clone().add(m+(_?-1:1),h);return+(-(m+(c-p)/(_?p-S:S-p))||0)},a:function(b){return b<0?Math.ceil(b)||0:Math.floor(b)},p:function(b){return{M:h,y:v,w:d,d:u,D:w,h:i,m:s,s:l,ms:o,Q:g}[b]||String(b||"").toLowerCase().replace(/s$/,"")},u:function(b){return b===void 0}},R="en",Y={};Y[R]=A;var ve="$isDayjsObject",ie=function(b){return b instanceof de||!(!b||!b[ve])},ue=function b(f,c,m){var p;if(!f)return R;if(typeof f=="string"){var _=f.toLowerCase();Y[_]&&(p=_),c&&(Y[_]=c,p=_);var S=f.split("-");if(!p&&S.length>1)return b(S[0])}else{var y=f.name;Y[y]=f,p=y}return!m&&p&&(R=p),p||!m&&R},P=function(b,f){if(ie(b))return b.clone();var c=typeof f=="object"?f:{};return c.date=b,c.args=arguments,new de(c)},k=ee;k.l=ue,k.i=ie,k.w=function(b,f){return P(b,{locale:f.$L,utc:f.$u,x:f.$x,$offset:f.$offset})};var de=function(){function b(c){this.$L=ue(c.locale,null,!0),this.parse(c),this.$x=this.$x||c.x||{},this[ve]=!0}var f=b.prototype;return f.parse=function(c){this.$d=function(m){var p=m.date,_=m.utc;if(p===null)return new Date(NaN);if(k.u(p))return new Date;if(p instanceof Date)return new Date(p);if(typeof p=="string"&&!/Z$/i.test(p)){var S=p.match(F);if(S){var y=S[2]-1||0,E=(S[7]||"0").substring(0,3);return _?new Date(Date.UTC(S[1],y,S[3]||1,S[4]||0,S[5]||0,S[6]||0,E)):new Date(S[1],y,S[3]||1,S[4]||0,S[5]||0,S[6]||0,E)}}return new Date(p)}(c),this.init()},f.init=function(){var c=this.$d;this.$y=c.getFullYear(),this.$M=c.getMonth(),this.$D=c.getDate(),this.$W=c.getDay(),this.$H=c.getHours(),this.$m=c.getMinutes(),this.$s=c.getSeconds(),this.$ms=c.getMilliseconds()},f.$utils=function(){return k},f.isValid=function(){return this.$d.toString()!==$},f.isSame=function(c,m){var p=P(c);return this.startOf(m)<=p&&p<=this.endOf(m)},f.isAfter=function(c,m){return P(c)<this.startOf(m)},f.isBefore=function(c,m){return this.endOf(m)<P(c)},f.$g=function(c,m,p){return k.u(c)?this[m]:this.set(p,c)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(c,m){var p=this,_=!!k.u(m)||m,S=k.p(c),y=function(ge,K){var ce=k.w(p.$u?Date.UTC(p.$y,K,ge):new Date(p.$y,K,ge),p);return _?ce:ce.endOf(u)},E=function(ge,K){return k.w(p.toDate()[ge].apply(p.toDate("s"),(_?[0,0,0,0]:[23,59,59,999]).slice(K)),p)},D=this.$W,L=this.$M,V=this.$D,te="set"+(this.$u?"UTC":"");switch(S){case v:return _?y(1,0):y(31,11);case h:return _?y(1,L):y(0,L+1);case d:var he=this.$locale().weekStart||0,De=(D<he?D+7:D)-he;return y(_?V-De:V+(6-De),L);case u:case w:return E(te+"Hours",0);case i:return E(te+"Minutes",1);case s:return E(te+"Seconds",2);case l:return E(te+"Milliseconds",3);default:return this.clone()}},f.endOf=function(c){return this.startOf(c,!1)},f.$set=function(c,m){var p,_=k.p(c),S="set"+(this.$u?"UTC":""),y=(p={},p[u]=S+"Date",p[w]=S+"Date",p[h]=S+"Month",p[v]=S+"FullYear",p[i]=S+"Hours",p[s]=S+"Minutes",p[l]=S+"Seconds",p[o]=S+"Milliseconds",p)[_],E=_===u?this.$D+(m-this.$W):m;if(_===h||_===v){var D=this.clone().set(w,1);D.$d[y](E),D.init(),this.$d=D.set(w,Math.min(this.$D,D.daysInMonth())).$d}else y&&this.$d[y](E);return this.init(),this},f.set=function(c,m){return this.clone().$set(c,m)},f.get=function(c){return this[k.p(c)]()},f.add=function(c,m){var p,_=this;c=Number(c);var S=k.p(m),y=function(L){var V=P(_);return k.w(V.date(V.date()+Math.round(L*c)),_)};if(S===h)return this.set(h,this.$M+c);if(S===v)return this.set(v,this.$y+c);if(S===u)return y(1);if(S===d)return y(7);var E=(p={},p[s]=r,p[i]=a,p[l]=n,p)[S]||1,D=this.$d.getTime()+c*E;return k.w(D,this)},f.subtract=function(c,m){return this.add(-1*c,m)},f.format=function(c){var m=this,p=this.$locale();if(!this.isValid())return p.invalidDate||$;var _=c||"YYYY-MM-DDTHH:mm:ssZ",S=k.z(this),y=this.$H,E=this.$m,D=this.$M,L=p.weekdays,V=p.months,te=p.meridiem,he=function(K,ce,Fe,je){return K&&(K[ce]||K(m,_))||Fe[ce].slice(0,je)},De=function(K){return k.s(y%12||12,K,"0")},ge=te||function(K,ce,Fe){var je=K<12?"AM":"PM";return Fe?je.toLowerCase():je};return _.replace(B,function(K,ce){return ce||function(Fe){switch(Fe){case"YY":return String(m.$y).slice(-2);case"YYYY":return k.s(m.$y,4,"0");case"M":return D+1;case"MM":return k.s(D+1,2,"0");case"MMM":return he(p.monthsShort,D,V,3);case"MMMM":return he(V,D);case"D":return m.$D;case"DD":return k.s(m.$D,2,"0");case"d":return String(m.$W);case"dd":return he(p.weekdaysMin,m.$W,L,2);case"ddd":return he(p.weekdaysShort,m.$W,L,3);case"dddd":return L[m.$W];case"H":return String(y);case"HH":return k.s(y,2,"0");case"h":return De(1);case"hh":return De(2);case"a":return ge(y,E,!0);case"A":return ge(y,E,!1);case"m":return String(E);case"mm":return k.s(E,2,"0");case"s":return String(m.$s);case"ss":return k.s(m.$s,2,"0");case"SSS":return k.s(m.$ms,3,"0");case"Z":return S}return null}(K)||S.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(c,m,p){var _,S=this,y=k.p(m),E=P(c),D=(E.utcOffset()-this.utcOffset())*r,L=this-E,V=function(){return k.m(S,E)};switch(y){case v:_=V()/12;break;case h:_=V();break;case g:_=V()/3;break;case d:_=(L-D)/6048e5;break;case u:_=(L-D)/864e5;break;case i:_=L/a;break;case s:_=L/r;break;case l:_=L/n;break;default:_=L}return p?_:k.a(_)},f.daysInMonth=function(){return this.endOf(h).$D},f.$locale=function(){return Y[this.$L]},f.locale=function(c,m){if(!c)return this.$L;var p=this.clone(),_=ue(c,m,!0);return _&&(p.$L=_),p},f.clone=function(){return k.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},b}(),z=de.prototype;return P.prototype=z,[["$ms",o],["$s",l],["$m",s],["$H",i],["$W",u],["$M",h],["$y",v],["$D",w]].forEach(function(b){z[b[1]]=function(f){return this.$g(f,b[0],b[1])}}),P.extend=function(b,f){return b.$i||(b(f,de,P),b.$i=!0),P},P.locale=ue,P.isDayjs=ie,P.unix=function(b){return P(1e3*b)},P.en=Y[R],P.Ls=Y,P.p={},P})})(Ft);var In=Ft.exports;const Ke=rn(In),yt={card:null,isOpen:!1},Ne=sn("deal-slide",{state:()=>yt,actions:{clear(){this.$patch(yt)},set(e){this.$patch({card:e,isOpen:!0})},toggle(){this.isOpen=!this.isOpen}}}),Bn={class:"border-border bg-black/20 rounded p-3"},Vn=q("div",{class:"uppercase bold text-xl mb-4"},"Об Отчете",-1),Un=H({__name:"Top",setup(e){const t=Ne();return(n,r)=>{const a=jn;return O(),M("div",Bn,[Vn,N(a,{"label-text":"Менеджер:"},{default:I(()=>{var o;return[q("h2",null,J((o=T(t).card)==null?void 0:o.name),1)]}),_:1}),N(a,{"label-text":"Выручка за месяц:"},{default:I(()=>{var o;return[we(J(("convertCurrency"in n?n.convertCurrency:T(Ot))(((o=T(t).card)==null?void 0:o.price)||0)),1)]}),_:1}),N(a,{"label-text":"Адрес точки:"},{default:I(()=>{var o;return[we(J((o=T(t).card)==null?void 0:o.companyName),1)]}),_:1}),N(a,{"label-text":"Дата создания отчета:"},{default:I(()=>{var o;return[we(J(T(Ke)((o=T(t).card)==null?void 0:o.$createdAt).format("DD MMMM YYYY HH:mm:ss")),1)]}),_:1})])}}}),Wn=H({__name:"Skeleton",props:{class:{}},setup(e){const t=e;return(n,r)=>(O(),M("div",{class:Z(T(ke)("animate-pulse rounded-md bg-primary/10",t.class))},null,2))}});function Yn(){var n;const t=((n=Ne().card)==null?void 0:n.id)||"";return Dt({queryKey:["deal",t],queryFn:()=>Ge.getDocument(Je,ct,t)})}function Kn({refetch:e}){const t=Ne(),n=C(),{mutate:r}=Tt({mutationKey:["add comments",n.value],mutationFn:()=>{var o;return Ge.createDocument(Je,on,kt(),{text:n.value,deal:(o=t.card)==null?void 0:o.id})},onSuccess:()=>{e(),n.value=""}});return{writeComment:()=>{n.value&&r()},commentRef:n}}const qn={key:1},zn={class:"border-border bg-black/20 rounded p-3 w-full"},Gn={class:"mb-2 text-sm"},Jn=H({__name:"Comments",setup(e){const{data:t,refetch:n,isLoading:r}=Yn(),{commentRef:a,writeComment:o}=Kn({refetch:n}),l=t;return(s,i)=>{var g;const u=xt,d=Wn,h=Et;return O(),M(xe,null,[N(u,{placeholder:"Оставьте комментарий",modelValue:T(a),"onUpdate:modelValue":i[0]||(i[0]=v=>Te(a)?a.value=v:null),onKeyup:un(T(o),["enter"])},null,8,["modelValue","onKeyup"]),T(r)?(O(),Ee(d,{key:0,class:"w-full h-[76px] rounded mt-5"})):T(l)?(O(),M("div",qn,[(O(!0),M(xe,null,nt((g=T(l))==null?void 0:g.comments,v=>(O(),M("div",{key:v.$id,class:"flex items-start mt-5"},[N(h,{name:"radix-icons:chat-bubble",class:"mr-3 mt-1",size:"20"}),q("div",zn,[q("div",Gn," Комментарий "+J(T(Ke)(v.$createdAt).format("HH:mm")),1),q("p",null,J(v.text),1)])]))),128))])):_e("",!0)],64)}}}),Lt=(e,t,n,r,a=!1)=>{const o=dn(),l=cn(),s=x(()=>{var g;const u=Ze(t),d=Ze(n),h=Ze(r);return ft((u==null?void 0:u.strategy)||((g=l.ui)==null?void 0:g.strategy),h?{wrapper:h}:{},u||{},a?xn(l.ui,e,{}):{},d||{})}),i=x(()=>En(o,["class"]));return{ui:s,attrs:i}},At={base:"invisible before:visible before:block before:rotate-45 before:z-[-1] before:w-2 before:h-2",ring:"before:ring-1 before:ring-gray-200 dark:before:ring-gray-800",rounded:"before:rounded-sm",background:"before:bg-gray-200 dark:before:bg-gray-800",shadow:"before:shadow",placement:"group-data-[popper-placement*='right']:-left-1 group-data-[popper-placement*='left']:-right-1 group-data-[popper-placement*='top']:-bottom-1 group-data-[popper-placement*='bottom']:-top-1"},bt={container:"z-20 group",trigger:"flex items-center w-full",width:"w-full",height:"max-h-60",base:"relative focus:outline-none overflow-y-auto scroll-py-1",background:"bg-white dark:bg-gray-800",shadow:"shadow-lg",rounded:"rounded-md",padding:"p-1",ring:"ring-1 ring-gray-200 dark:ring-gray-700",empty:"text-sm text-gray-400 dark:text-gray-500 px-2 py-1.5",option:{base:"cursor-default select-none relative flex items-center justify-between gap-1",rounded:"rounded-md",padding:"px-1.5 py-1.5",size:"text-sm",color:"text-gray-900 dark:text-white",container:"flex items-center gap-1.5 min-w-0",active:"bg-gray-100 dark:bg-gray-900",inactive:"",selected:"pe-7",disabled:"cursor-not-allowed opacity-50",empty:"text-sm text-gray-400 dark:text-gray-500 px-2 py-1.5",icon:{base:"flex-shrink-0 h-5 w-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{wrapper:"absolute inset-y-0 end-0 flex items-center",padding:"pe-2",base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"}},transition:{leaveActiveClass:"transition ease-in duration-100",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},popper:{placement:"bottom-end"},default:{selectedIcon:"i-heroicons-check-20-solid",trailingIcon:"i-heroicons-chevron-down-20-solid"},arrow:{...At,ring:"before:ring-1 before:ring-gray-200 dark:before:ring-gray-700",background:"before:bg-white dark:before:bg-gray-700"}};({...bt,option:{...bt.option},arrow:{...At}});const Qn={base:"",background:"bg-white dark:bg-gray-900",divide:"divide-y divide-gray-200 dark:divide-gray-800",ring:"ring-1 ring-gray-200 dark:ring-gray-800",rounded:"rounded-lg",shadow:"shadow",body:{base:"",background:"",padding:"px-4 py-5 sm:p-6"},header:{base:"",background:"",padding:"px-4 py-5 sm:px-6"},footer:{base:"",background:"",padding:"px-4 py-4 sm:px-6"}},Zn={wrapper:"fixed inset-0 flex z-50",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},base:"relative flex-1 flex flex-col w-full focus:outline-none",background:"bg-white dark:bg-gray-900",ring:"",rounded:"",padding:"",shadow:"shadow-xl",width:"w-screen max-w-md",translate:{base:"translate-x-0",left:"-translate-x-full rtl:translate-x-full",right:"translate-x-full rtl:-translate-x-full"},transition:{enter:"transform transition ease-in-out duration-300",leave:"transform transition ease-in-out duration-200"}},Xn=ft(Ye.ui.strategy,Ye.ui.card,Qn),er=H({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:n}=Lt("card",rt(e,"ui"),Xn),r=x(()=>fn(pn(t.value.base,t.value.rounded,t.value.divide,t.value.ring,t.value.shadow,t.value.background),e.class));return{ui:t,attrs:n,cardClass:r}}});function tr(e,t,n,r,a,o){return O(),Ee(mn(e.$attrs.onSubmit?"form":e.as),pe({class:e.cardClass},e.attrs),{default:I(()=>[e.$slots.header?(O(),M("div",{key:0,class:Z([e.ui.header.base,e.ui.header.padding,e.ui.header.background])},[ae(e.$slots,"header")],2)):_e("",!0),e.$slots.default?(O(),M("div",{key:1,class:Z([e.ui.body.base,e.ui.body.padding,e.ui.body.background])},[ae(e.$slots,"default")],2)):_e("",!0),e.$slots.footer?(O(),M("div",{key:2,class:Z([e.ui.footer.base,e.ui.footer.padding,e.ui.footer.background])},[ae(e.$slots,"footer")],2)):_e("",!0)]),_:3},16,["class"])}const nr=Pe(er,[["render",tr]]);let Mt=Symbol("headlessui.useid"),rr=0;function pt(){return Q(Mt,()=>`${++rr}`)()}function ar(e){ne(Mt,e)}function j(e){var t;if(e==null||e.value==null)return null;let n=(t=e.value.$el)!=null?t:e.value;return n instanceof Node?n:null}function oe(e,t,...n){if(e in t){let a=t[e];return typeof a=="function"?a(...n):a}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,oe),r}var or=Object.defineProperty,lr=(e,t,n)=>t in e?or(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wt=(e,t,n)=>(lr(e,typeof t!="symbol"?t+"":t,n),n);let sr=class{constructor(){wt(this,"current",this.detect()),wt(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},He=new sr;function Oe(e){if(He.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=j(e);if(t)return t.ownerDocument}return document}let at=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var fe=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(fe||{}),Pt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Pt||{}),ir=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(ir||{});function ur(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(at)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Nt=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Nt||{});function dr(e,t=0){var n;return e===((n=Oe(e))==null?void 0:n.body)?!1:oe(t,{0(){return e.matches(at)},1(){let r=e;for(;r!==null;){if(r.matches(at))return!0;r=r.parentElement}return!1}})}var cr=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(cr||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Se(e){e==null||e.focus({preventScroll:!0})}let fr=["textarea","input"].join(",");function pr(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,fr))!=null?n:!1}function mr(e,t=n=>n){return e.slice().sort((n,r)=>{let a=t(n),o=t(r);if(a===null||o===null)return 0;let l=a.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function We(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:a=[]}={}){var o;let l=(o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?o:document,s=Array.isArray(e)?n?mr(e):e:ur(e);a.length>0&&s.length>1&&(s=s.filter(w=>!a.includes(w))),r=r??l.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},h=0,g=s.length,v;do{if(h>=g||h+g<=0)return 0;let w=u+h;if(t&16)w=(w+g)%g;else{if(w<0)return 3;if(w>=g)return 1}v=s[w],v==null||v.focus(d),h+=i}while(v!==l.activeElement);return t&6&&pr(v)&&v.select(),2}function Ht(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function vr(){return/Android/gi.test(window.navigator.userAgent)}function hr(){return Ht()||vr()}function Be(e,t,n){He.isServer||re(r=>{document.addEventListener(e,t,n),r(()=>document.removeEventListener(e,t,n))})}function Rt(e,t,n){He.isServer||re(r=>{window.addEventListener(e,t,n),r(()=>window.removeEventListener(e,t,n))})}function gr(e,t,n=x(()=>!0)){function r(o,l){if(!n.value||o.defaultPrevented)return;let s=l(o);if(s===null||!s.getRootNode().contains(s))return;let i=function u(d){return typeof d=="function"?u(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let u of i){if(u===null)continue;let d=u instanceof HTMLElement?u:j(u);if(d!=null&&d.contains(s)||o.composed&&o.composedPath().includes(d))return}return!dr(s,Nt.Loose)&&s.tabIndex!==-1&&o.preventDefault(),t(o,s)}let a=C(null);Be("pointerdown",o=>{var l,s;n.value&&(a.value=((s=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:s[0])||o.target)},!0),Be("mousedown",o=>{var l,s;n.value&&(a.value=((s=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:s[0])||o.target)},!0),Be("click",o=>{hr()||a.value&&(r(o,()=>a.value),a.value=null)},!0),Be("touchend",o=>r(o,()=>o.target instanceof HTMLElement?o.target:null),!0),Rt("blur",o=>r(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var qe=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(qe||{}),me=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(me||{});function se({visible:e=!0,features:t=0,ourProps:n,theirProps:r,...a}){var o;let l=It(r,n),s=Object.assign(a,{props:l});if(e||t&2&&l.static)return Xe(s);if(t&1){let i=(o=l.unmount)==null||o?0:1;return oe(i,{0(){return null},1(){return Xe({...a,props:{...l,hidden:!0,style:{display:"none"}}})}})}return Xe(s)}function Xe({props:e,attrs:t,slots:n,slot:r,name:a}){var o,l;let{as:s,...i}=Bt(e,["unmount","static"]),u=(o=n.default)==null?void 0:o.call(n,r),d={};if(r){let h=!1,g=[];for(let[v,w]of Object.entries(r))typeof w=="boolean"&&(h=!0),w===!0&&g.push(v);h&&(d["data-headlessui-state"]=g.join(" "))}if(s==="template"){if(u=jt(u??[]),Object.keys(i).length>0||Object.keys(t).length>0){let[h,...g]=u??[];if(!yr(h)||g.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(i).concat(Object.keys(t)).map($=>$.trim()).filter(($,F,B)=>B.indexOf($)===F).sort(($,F)=>$.localeCompare(F)).map($=>`  - ${$}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map($=>`  - ${$}`).join(`
`)].join(`
`));let v=It((l=h.props)!=null?l:{},i,d),w=vn(h,v,!0);for(let $ in v)$.startsWith("on")&&(w.props||(w.props={}),w.props[$]=v[$]);return w}return Array.isArray(u)&&u.length===1?u[0]:u}return U(s,Object.assign({},i,d),{default:()=>u})}function jt(e){return e.flatMap(t=>t.type===xe?jt(t.children):[t])}function It(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(r[a])):t[a]=r[a];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](a,...o){let l=n[r];for(let s of l){if(a instanceof Event&&a.defaultPrevented)return;s(a,...o)}}});return t}function Bt(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function yr(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var ze=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ze||{});let ot=H({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{var r;let{features:a,...o}=e,l={"aria-hidden":(a&2)===2?!0:(r=o["aria-hidden"])!=null?r:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return se({ourProps:l,theirProps:o,slot:{},attrs:n,slots:t,name:"Hidden"})}}}),Vt=Symbol("Context");var G=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(G||{});function br(){return mt()!==null}function mt(){return Q(Vt,null)}function wr(e){ne(Vt,e)}var Ut=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ut||{});function $r(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let be=[];$r(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&be[0]!==t.target&&(be.unshift(t.target),be=be.filter(n=>n!=null&&n.isConnected),be.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function vt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Re(){let e=[],t={addEventListener(n,r,a,o){return n.addEventListener(r,a,o),t.add(()=>n.removeEventListener(r,a,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return vt(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,a){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:a}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Re();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let a of e.splice(r,1))a()}},dispose(){for(let n of e.splice(0))n()}};return t}function Wt(e,t,n,r){He.isServer||re(a=>{e=e??window,e.addEventListener(t,n,r),a(()=>e.removeEventListener(t,n,r))})}var Me=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Me||{});function _r(){let e=C(0);return Rt("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function Yt(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.value){let r=j(n);r instanceof HTMLElement&&t.add(r)}return t}var Kt=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Kt||{});let Le=Object.assign(H({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:C(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:r}){let a=C(null);r({el:a,$el:a});let o=x(()=>Oe(a)),l=C(!1);X(()=>l.value=!0),le(()=>l.value=!1),Er({ownerDocument:o},x(()=>l.value&&!!(e.features&16)));let s=xr({ownerDocument:o,container:a,initialFocus:x(()=>e.initialFocus)},x(()=>l.value&&!!(e.features&2)));Tr({ownerDocument:o,container:a,containers:e.containers,previousActiveElement:s},x(()=>l.value&&!!(e.features&8)));let i=_r();function u(v){let w=j(a);w&&($=>$())(()=>{oe(i.value,{[Me.Forwards]:()=>{We(w,fe.First,{skipElements:[v.relatedTarget]})},[Me.Backwards]:()=>{We(w,fe.Last,{skipElements:[v.relatedTarget]})}})})}let d=C(!1);function h(v){v.key==="Tab"&&(d.value=!0,requestAnimationFrame(()=>{d.value=!1}))}function g(v){if(!l.value)return;let w=Yt(e.containers);j(a)instanceof HTMLElement&&w.add(j(a));let $=v.relatedTarget;$ instanceof HTMLElement&&$.dataset.headlessuiFocusGuard!=="true"&&(qt(w,$)||(d.value?We(j(a),oe(i.value,{[Me.Forwards]:()=>fe.Next,[Me.Backwards]:()=>fe.Previous})|fe.WrapAround,{relativeTo:v.target}):v.target instanceof HTMLElement&&Se(v.target)))}return()=>{let v={},w={ref:a,onKeydown:h,onFocusout:g},{features:$,initialFocus:F,containers:B,...A}=e;return U(xe,[!!($&4)&&U(ot,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:ze.Focusable}),se({ourProps:w,theirProps:{...t,...A},slot:v,attrs:t,slots:n,name:"FocusTrap"}),!!($&4)&&U(ot,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:ze.Focusable})])}}}),{features:Kt});function Sr(e){let t=C(be.slice());return Ce([e],([n],[r])=>{r===!0&&n===!1?vt(()=>{t.value.splice(0)}):r===!1&&n===!0&&(t.value=be.slice())},{flush:"post"}),()=>{var n;return(n=t.value.find(r=>r!=null&&r.isConnected))!=null?n:null}}function Er({ownerDocument:e},t){let n=Sr(t);X(()=>{re(()=>{var r,a;t.value||((r=e.value)==null?void 0:r.activeElement)===((a=e.value)==null?void 0:a.body)&&Se(n())},{flush:"post"})}),le(()=>{t.value&&Se(n())})}function xr({ownerDocument:e,container:t,initialFocus:n},r){let a=C(null),o=C(!1);return X(()=>o.value=!0),le(()=>o.value=!1),X(()=>{Ce([t,n,r],(l,s)=>{if(l.every((u,d)=>(s==null?void 0:s[d])===u)||!r.value)return;let i=j(t);i&&vt(()=>{var u,d;if(!o.value)return;let h=j(n),g=(u=e.value)==null?void 0:u.activeElement;if(h){if(h===g){a.value=g;return}}else if(i.contains(g)){a.value=g;return}h?Se(h):We(i,fe.First|fe.NoScroll)===Pt.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.value=(d=e.value)==null?void 0:d.activeElement})},{immediate:!0,flush:"post"})}),a}function Tr({ownerDocument:e,container:t,containers:n,previousActiveElement:r},a){var o;Wt((o=e.value)==null?void 0:o.defaultView,"focus",l=>{if(!a.value)return;let s=Yt(n);j(t)instanceof HTMLElement&&s.add(j(t));let i=r.value;if(!i)return;let u=l.target;u&&u instanceof HTMLElement?qt(s,u)?(r.value=u,Se(u)):(l.preventDefault(),l.stopPropagation(),Se(i)):Se(r.value)},!0)}function qt(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Cr(e){let t=hn(e.getSnapshot());return le(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function kr(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(a){return r.add(a),()=>r.delete(a)},dispatch(a,...o){let l=t[a].call(n,...o);l&&(n=l,r.forEach(s=>s()))}}}function Or(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,a=r.clientWidth-r.offsetWidth,o=e-a;n.style(r,"paddingRight",`${o}px`)}}}function Dr(){return Ht()?{before({doc:e,d:t,meta:n}){function r(a){return n.containers.flatMap(o=>o()).some(o=>o.contains(a))}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=Re();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let o=(a=window.scrollY)!=null?a:window.pageYOffset,l=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let i=s.target.closest("a");if(!i)return;let{hash:u}=new URL(i.href),d=e.querySelector(u);d&&!r(d)&&(l=d)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(r(s.target)){let i=s.target;for(;i.parentElement&&r(i.parentElement);)i=i.parentElement;t.style(i,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement)if(r(s.target)){let i=s.target;for(;i.parentElement&&i.dataset.headlessuiPortal!==""&&!(i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth);)i=i.parentElement;i.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()},{passive:!1}),t.add(()=>{var s;let i=(s=window.scrollY)!=null?s:window.pageYOffset;o!==i&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Fr(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Lr(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let $e=kr(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Re(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Lr(n)},a=[Dr(),Or(),Fr()];a.forEach(({before:o})=>o==null?void 0:o(r)),a.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});$e.subscribe(()=>{let e=$e.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",a=n.count!==0;(a&&!r||!a&&r)&&$e.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&$e.dispatch("TEARDOWN",n)}});function Ar(e,t,n){let r=Cr($e),a=x(()=>{let o=e.value?r.value.get(e.value):void 0;return o?o.count>0:!1});return Ce([e,t],([o,l],[s],i)=>{if(!o||!l)return;$e.dispatch("PUSH",o,n);let u=!1;i(()=>{u||($e.dispatch("POP",s??o,n),u=!0)})},{immediate:!0}),a}let et=new Map,Ae=new Map;function $t(e,t=C(!0)){re(n=>{var r;if(!t.value)return;let a=j(e);if(!a)return;n(function(){var l;if(!a)return;let s=(l=Ae.get(a))!=null?l:1;if(s===1?Ae.delete(a):Ae.set(a,s-1),s!==1)return;let i=et.get(a);i&&(i["aria-hidden"]===null?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",i["aria-hidden"]),a.inert=i.inert,et.delete(a))});let o=(r=Ae.get(a))!=null?r:0;Ae.set(a,o+1),o===0&&(et.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),a.setAttribute("aria-hidden","true"),a.inert=!0)})}function Mr({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){let r=C(null),a=Oe(r);function o(){var l,s,i;let u=[];for(let d of e)d!==null&&(d instanceof HTMLElement?u.push(d):"value"in d&&d.value instanceof HTMLElement&&u.push(d.value));if(t!=null&&t.value)for(let d of t.value)u.push(d);for(let d of(l=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?l:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(j(r))||d.contains((i=(s=j(r))==null?void 0:s.getRootNode())==null?void 0:i.host)||u.some(h=>d.contains(h))||u.push(d));return u}return{resolveContainers:o,contains(l){return o().some(s=>s.contains(l))},mainTreeNodeRef:r,MainTreeNode(){return n!=null?null:U(ot,{features:ze.Hidden,ref:r})}}}let zt=Symbol("ForcePortalRootContext");function Pr(){return Q(zt,!1)}let _t=H({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){return ne(zt,e.force),()=>{let{force:r,...a}=e;return se({theirProps:a,ourProps:{},slot:{},slots:t,attrs:n,name:"ForcePortalRoot"})}}}),Gt=Symbol("StackContext");var lt=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(lt||{});function Nr(){return Q(Gt,()=>{})}function Hr({type:e,enabled:t,element:n,onUpdate:r}){let a=Nr();function o(...l){r==null||r(...l),a(...l)}X(()=>{Ce(t,(l,s)=>{l?o(0,e,n):s===!0&&o(1,e,n)},{immediate:!0,flush:"sync"})}),le(()=>{t.value&&o(1,e,n)}),ne(Gt,o)}let Rr=Symbol("DescriptionContext");function jr({slot:e=C({}),name:t="Description",props:n={}}={}){let r=C([]);function a(o){return r.value.push(o),()=>{let l=r.value.indexOf(o);l!==-1&&r.value.splice(l,1)}}return ne(Rr,{register:a,slot:e,name:t,props:n}),x(()=>r.value.length>0?r.value.join(" "):void 0)}function Ir(e){let t=Oe(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let n=t.getElementById("headlessui-portal-root");if(n)return n;let r=t.createElement("div");return r.setAttribute("id","headlessui-portal-root"),t.body.appendChild(r)}let Br=H({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=C(null),a=x(()=>Oe(r)),o=Pr(),l=Q(Jt,null),s=C(o===!0||l==null?Ir(r.value):l.resolveTarget()),i=C(!1);X(()=>{i.value=!0}),re(()=>{o||l!=null&&(s.value=l.resolveTarget())});let u=Q(st,null),d=!1,h=Ct();return Ce(r,()=>{if(d||!u)return;let g=j(r);g&&(le(u.register(g),h),d=!0)}),le(()=>{var g,v;let w=(g=a.value)==null?void 0:g.getElementById("headlessui-portal-root");w&&s.value===w&&s.value.children.length<=0&&((v=s.value.parentElement)==null||v.removeChild(s.value))}),()=>{if(!i.value||s.value===null)return null;let g={ref:r,"data-headlessui-portal":""};return U(gn,{to:s.value},se({ourProps:g,theirProps:e,slot:{},attrs:n,slots:t,name:"Portal"}))}}}),st=Symbol("PortalParentContext");function Vr(){let e=Q(st,null),t=C([]);function n(o){return t.value.push(o),e&&e.register(o),()=>r(o)}function r(o){let l=t.value.indexOf(o);l!==-1&&t.value.splice(l,1),e&&e.unregister(o)}let a={register:n,unregister:r,portals:t};return[t,H({name:"PortalWrapper",setup(o,{slots:l}){return ne(st,a),()=>{var s;return(s=l.default)==null?void 0:s.call(l)}}})]}let Jt=Symbol("PortalGroupContext"),Ur=H({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:n}){let r=yn({resolveTarget(){return e.target}});return ne(Jt,r),()=>{let{target:a,...o}=e;return se({theirProps:o,ourProps:{},slot:{},attrs:t,slots:n,name:"PortalGroup"})}}});var Wr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Wr||{});let it=Symbol("DialogContext");function Qt(e){let t=Q(it,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qt),n}return t}let Ve="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Yr=H({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Ve},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:a}){var o,l;let s=(o=e.id)!=null?o:`headlessui-dialog-${pt()}`,i=C(!1);X(()=>{i.value=!0});let u=!1,d=x(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(u||(u=!0,console.warn(`Invalid role [${d}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),h=C(0),g=mt(),v=x(()=>e.open===Ve&&g!==null?(g.value&G.Open)===G.Open:e.open),w=C(null),$=x(()=>Oe(w));if(a({el:w,$el:w}),!(e.open!==Ve||g!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof v.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${v.value===Ve?void 0:e.open}`);let F=x(()=>i.value&&v.value?0:1),B=x(()=>F.value===0),A=x(()=>h.value>1),W=Q(it,null)!==null,[ee,R]=Vr(),{resolveContainers:Y,mainTreeNodeRef:ve,MainTreeNode:ie}=Mr({portals:ee,defaultContainers:[x(()=>{var y;return(y=m.panelRef.value)!=null?y:w.value})]}),ue=x(()=>A.value?"parent":"leaf"),P=x(()=>g!==null?(g.value&G.Closing)===G.Closing:!1),k=x(()=>W||P.value?!1:B.value),de=x(()=>{var y,E,D;return(D=Array.from((E=(y=$.value)==null?void 0:y.querySelectorAll("body > *"))!=null?E:[]).find(L=>L.id==="headlessui-portal-root"?!1:L.contains(j(ve))&&L instanceof HTMLElement))!=null?D:null});$t(de,k);let z=x(()=>A.value?!0:B.value),b=x(()=>{var y,E,D;return(D=Array.from((E=(y=$.value)==null?void 0:y.querySelectorAll("[data-headlessui-portal]"))!=null?E:[]).find(L=>L.contains(j(ve))&&L instanceof HTMLElement))!=null?D:null});$t(b,z),Hr({type:"Dialog",enabled:x(()=>F.value===0),element:w,onUpdate:(y,E)=>{if(E==="Dialog")return oe(y,{[lt.Add]:()=>h.value+=1,[lt.Remove]:()=>h.value-=1})}});let f=jr({name:"DialogDescription",slot:x(()=>({open:v.value}))}),c=C(null),m={titleId:c,panelRef:C(null),dialogState:F,setTitleId(y){c.value!==y&&(c.value=y)},close(){t("close",!1)}};ne(it,m);let p=x(()=>!(!B.value||A.value));gr(Y,(y,E)=>{m.close(),bn(()=>E==null?void 0:E.focus())},p);let _=x(()=>!(A.value||F.value!==0));Wt((l=$.value)==null?void 0:l.defaultView,"keydown",y=>{_.value&&(y.defaultPrevented||y.key===Ut.Escape&&(y.preventDefault(),y.stopPropagation(),m.close()))});let S=x(()=>!(P.value||F.value!==0||W));return Ar($,S,y=>{var E;return{containers:[...(E=y.containers)!=null?E:[],Y]}}),re(y=>{if(F.value!==0)return;let E=j(w);if(!E)return;let D=new ResizeObserver(L=>{for(let V of L){let te=V.target.getBoundingClientRect();te.x===0&&te.y===0&&te.width===0&&te.height===0&&m.close()}});D.observe(E),y(()=>D.disconnect())}),()=>{let{open:y,initialFocus:E,...D}=e,L={...n,ref:w,id:s,role:d.value,"aria-modal":F.value===0?!0:void 0,"aria-labelledby":c.value,"aria-describedby":f.value},V={open:F.value===0};return U(_t,{force:!0},()=>[U(Br,()=>U(Ur,{target:w.value},()=>U(_t,{force:!1},()=>U(Le,{initialFocus:E,containers:Y,features:B.value?oe(ue.value,{parent:Le.features.RestoreFocus,leaf:Le.features.All&~Le.features.FocusLock}):Le.features.None},()=>U(R,{},()=>se({ourProps:L,theirProps:{...D,...n},slot:V,attrs:n,slots:r,visible:F.value===0,features:qe.RenderStrategy|qe.Static,name:"Dialog"})))))),U(ie)])}}}),Kr=H({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:r}){var a;let o=(a=e.id)!=null?a:`headlessui-dialog-panel-${pt()}`,l=Qt("DialogPanel");r({el:l.panelRef,$el:l.panelRef});function s(i){i.stopPropagation()}return()=>{let{...i}=e,u={id:o,ref:l.panelRef,onClick:s};return se({ourProps:u,theirProps:i,slot:{open:l.dialogState.value===0},attrs:t,slots:n,name:"DialogPanel"})}}});function qr(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function tt(e,...t){e&&t.length>0&&e.classList.add(...t)}function Ue(e,...t){e&&t.length>0&&e.classList.remove(...t)}var ut=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(ut||{});function zr(e,t){let n=Re();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:a}=getComputedStyle(e),[o,l]=[r,a].map(s=>{let[i=0]=s.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,d)=>d-u);return i});return o!==0?n.setTimeout(()=>t("finished"),o+l):t("finished"),n.add(()=>t("cancelled")),n.dispose}function St(e,t,n,r,a,o){let l=Re(),s=o!==void 0?qr(o):()=>{};return Ue(e,...a),tt(e,...t,...n),l.nextFrame(()=>{Ue(e,...n),tt(e,...r),l.add(zr(e,i=>(Ue(e,...r,...t),tt(e,...a),s(i))))}),l.add(()=>Ue(e,...t,...n,...r,...a)),l.add(()=>s("cancelled")),l.dispose}function ye(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let ht=Symbol("TransitionContext");var Gr=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Gr||{});function Jr(){return Q(ht,null)!==null}function Qr(){let e=Q(ht,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Zr(){let e=Q(gt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let gt=Symbol("NestingContext");function Qe(e){return"children"in e?Qe(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function Zt(e){let t=C([]),n=C(!1);X(()=>n.value=!0),le(()=>n.value=!1);function r(o,l=me.Hidden){let s=t.value.findIndex(({id:i})=>i===o);s!==-1&&(oe(l,{[me.Unmount](){t.value.splice(s,1)},[me.Hidden](){t.value[s].state="hidden"}}),!Qe(t)&&n.value&&(e==null||e()))}function a(o){let l=t.value.find(({id:s})=>s===o);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:o,state:"visible"}),()=>r(o,me.Unmount)}return{children:t,register:a,unregister:r}}let Xt=qe.RenderStrategy,en=H({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:a}){let o=C(0);function l(){o.value|=G.Opening,t("beforeEnter")}function s(){o.value&=~G.Opening,t("afterEnter")}function i(){o.value|=G.Closing,t("beforeLeave")}function u(){o.value&=~G.Closing,t("afterLeave")}if(!Jr()&&br())return()=>U(tn,{...e,onBeforeEnter:l,onAfterEnter:s,onBeforeLeave:i,onAfterLeave:u},r);let d=C(null),h=x(()=>e.unmount?me.Unmount:me.Hidden);a({el:d,$el:d});let{show:g,appear:v}=Qr(),{register:w,unregister:$}=Zr(),F=C(g.value?"visible":"hidden"),B={value:!0},A=pt(),W={value:!1},ee=Zt(()=>{!W.value&&F.value!=="hidden"&&(F.value="hidden",$(A),u())});X(()=>{let z=w(A);le(z)}),re(()=>{if(h.value===me.Hidden&&A){if(g.value&&F.value!=="visible"){F.value="visible";return}oe(F.value,{hidden:()=>$(A),visible:()=>w(A)})}});let R=ye(e.enter),Y=ye(e.enterFrom),ve=ye(e.enterTo),ie=ye(e.entered),ue=ye(e.leave),P=ye(e.leaveFrom),k=ye(e.leaveTo);X(()=>{re(()=>{if(F.value==="visible"){let z=j(d);if(z instanceof Comment&&z.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function de(z){let b=B.value&&!v.value,f=j(d);!f||!(f instanceof HTMLElement)||b||(W.value=!0,g.value&&l(),g.value||i(),z(g.value?St(f,R,Y,ve,ie,c=>{W.value=!1,c===ut.Finished&&s()}):St(f,ue,P,k,ie,c=>{W.value=!1,c===ut.Finished&&(Qe(ee)||(F.value="hidden",$(A),u()))})))}return X(()=>{Ce([g],(z,b,f)=>{de(f),B.value=!1},{immediate:!0})}),ne(gt,ee),wr(x(()=>oe(F.value,{visible:G.Open,hidden:G.Closed})|o.value)),()=>{let{appear:z,show:b,enter:f,enterFrom:c,enterTo:m,entered:p,leave:_,leaveFrom:S,leaveTo:y,...E}=e,D={ref:d},L={...E,...v.value&&g.value&&He.isServer?{class:Z([n.class,E.class,...R,...Y])}:{}};return se({theirProps:L,ourProps:D,slot:{},slots:r,attrs:n,features:Xt,visible:F.value==="visible",name:"TransitionChild"})}}}),Xr=en,tn=H({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let a=mt(),o=x(()=>e.show===null&&a!==null?(a.value&G.Open)===G.Open:e.show);re(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=C(o.value?"visible":"hidden"),s=Zt(()=>{l.value="hidden"}),i=C(!0),u={show:o,appear:x(()=>e.appear||!i.value)};return X(()=>{re(()=>{i.value=!1,o.value?l.value="visible":Qe(s)||(l.value="hidden")})}),ne(gt,s),ne(ht,u),()=>{let d=Bt(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),h={unmount:e.unmount};return se({ourProps:{...h,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[U(Xr,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...h,...d},r.default)]},attrs:{},features:Xt,visible:l.value==="visible",name:"Transition"})}}});const ea=ft(Ye.ui.strategy,Ye.ui.slideover,Zn),ta=H({components:{HDialog:Yr,HDialogPanel:Kr,TransitionRoot:tn,TransitionChild:en},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented"],setup(e,{emit:t}){const{ui:n,attrs:r}=Lt("slideover",rt(e,"ui"),ea,rt(e,"class")),a=x({get(){return e.modelValue},set(s){t("update:modelValue",s)}}),o=x(()=>e.transition?{...n.value.transition,enterFrom:e.side==="left"?n.value.translate.left:n.value.translate.right,enterTo:n.value.translate.base,leaveFrom:n.value.translate.base,leaveTo:e.side==="left"?n.value.translate.left:n.value.translate.right}:{});function l(s){if(e.preventClose){t("close-prevented");return}a.value=s,t("close")}return ar(()=>Sn("$zSEivjycv8")),{ui:n,attrs:r,isOpen:a,transitionClass:o,close:l}}});function na(e,t,n,r,a,o){const l=Ie("TransitionChild"),s=Ie("HDialogPanel"),i=Ie("HDialog"),u=Ie("TransitionRoot");return O(),Ee(u,{as:"template",appear:e.appear,show:e.isOpen},{default:I(()=>[N(i,pe({class:[e.ui.wrapper,{"justify-end":e.side==="right"}]},e.attrs,{onClose:e.close}),{default:I(()=>[e.overlay?(O(),Ee(l,pe({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:I(()=>[q("div",{class:Z([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):_e("",!0),N(l,pe({as:"template",appear:e.appear},e.transitionClass),{default:I(()=>[N(s,{class:Z([e.ui.base,e.ui.width,e.ui.background,e.ui.ring,e.ui.padding])},{default:I(()=>[ae(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])]),_:3},16,["class","onClose"])]),_:3},8,["appear","show"])}const ra=Pe(ta,[["render",na]]),aa=H({__name:"Slideover",setup(e){const t=Ne(),n=x({get:()=>t.isOpen,set:r=>{t.isOpen=r}});return(r,a)=>{const o=Un,l=Jn,s=nr,i=ra;return O(),M("div",null,[N(i,{modelValue:T(n),"onUpdate:modelValue":a[0]||(a[0]=u=>Te(n)?n.value=u:null)},{default:I(()=>[N(s,{class:"flex flex-col flex-1 overflow-y-auto",ui:{body:{base:"flex-1"},ring:"",divide:"divide-y divide-border"}},{header:I(()=>[N(o)]),default:I(()=>[N(l)]),_:1})]),_:1},8,["modelValue"])])}}});var dt=(e=>(e.todo="todo",e["to-be-agreed"]="to-be-agreed",e["in-progress"]="in-progress",e.produced="produced",e.done="done",e))(dt||{});const oa=[{id:dt.todo,name:"Санкт-Петербург",items:[]},{id:dt["to-be-agreed"],name:"Москва",items:[]}];function la(){return Dt({queryKey:["deals"],queryFn:()=>Ge.listDocuments(Je,ct),select(e){const t=oa.map(r=>({...r,items:[]})),n=e.documents;for(const r of n){const a=t.find(o=>o.id===r.status);a&&a.items.push({$createdAt:r.$createdAt,id:r.$id,name:r.name,price:r.price,companyName:r.customer.name,status:a.name})}return t}})}const sa={computed:{dayjs(){return Ke}},methods:{dayjs:Ke,convertCurrency(){return Ot}},setup(){const e=C(null),t=C(null),{data:n,isLoading:r,refetch:a}=la(),o=Ne();return{dragCardRef:e,sourceColRef:t,data:n,isLoading:r,refetch:a,store:o}}},ia={class:"p-10"},ua=q("h1",{class:"font-bold text-2xl mb-10"},"CRM System by Pavel Ogaryshev",-1),da={key:0},ca={key:1},fa={class:"grid grid-cols-5 gap-16"},pa={class:"rounded bg-slate-700 py-1 px-5 mb-2 text-center"};function ma(e,t,n,r,a,o){const l=On,s=Ln,i=An,u=Mn,d=Pn,h=Fn,g=aa;return O(),M("div",ia,[ua,r.isLoading?(O(),M("div",da,"Пожалуйста подождите...")):(O(),M("div",ca,[q("div",fa,[(O(!0),M(xe,null,nt(r.data,(v,w)=>(O(),M("div",{key:v.id},[q("div",pa,J(v.name),1),q("div",null,[N(l,{refetch:r.refetch,status:v.id},null,8,["refetch","status"]),(O(!0),M(xe,null,nt(v.items,$=>(O(),Ee(h,{class:"mb-5",key:$.id},{default:I(()=>[N(s,{role:"button",onClick:F=>r.store.set($)},{default:I(()=>[we(J($.name),1)]),_:2},1032,["onClick"]),N(u,null,{default:I(()=>[we(J($.companyName)+" ",1),N(i,{class:"mt-2 block"},{default:I(()=>[we(J(o.convertCurrency()($.price)),1)]),_:2},1024)]),_:2},1024),N(d,null,{default:I(()=>[we(J(o.dayjs($.$createdAt).format("DD MMMM YYYY HH:mm:ss")),1)]),_:2},1024)]),_:2},1024))),128))])]))),128))]),N(g)]))])}const Ta=Pe(sa,[["render",ma]]);export{Ta as default};
