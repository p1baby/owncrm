import{_ as E}from"./vAGshnmf.js";import{_ as N}from"./gC3sEk3E.js";import{u as T,f as w,g as O,h as R,i as U,o as q,c as A,a as y,t as b,j as t,b as c,m as D,k as S,w as K,d as L,_ as P}from"./DKUuba3I.js";import{u as $,a as j}from"./CEL2v70B.js";import{D as M,a as g,C as B}from"./D6PpEwZq.js";import{u as H}from"./BCNjI4Gw.js";import"./B4sdexvR.js";function Q(d,p){const{title:a,titleTemplate:m,...o}=d;return T({title:a,titleTemplate:m,_flatMeta:o},{...p,transform(l){const u=w({...l._flatMeta});return delete l._flatMeta,{...l,meta:u}}})}const z={class:"p-10"},G={class:"font-bold text-2xl mb-10"},J=O({__name:"[id]",setup(d){Q({title:"Редактирование отчета"});const a=R().params.id,{handleSubmit:m,defineField:o,setFieldValue:l,setValues:u,values:W}=$(),{data:_,isSuccess:C}=H({queryKey:["get customer",a],queryFn:()=>M.getDocument(g,B,a)});U(C,()=>{const e=_.value;u({email:e.email,avatar_url:e.avatar_url,from_source:e.from_source||"",name:e.name})});const[r,F]=o("name"),[i,I]=o("email");o("from_source");const{mutate:h,isPending:f}=j({mutationKey:["update customer",a],mutationFn:e=>M.updateDocument(g,B,a,e)}),V=m(e=>{h(e)});return(e,s)=>{var x;const v=E,k=N;return q(),A("div",z,[y("h1",G," Редактирование "+b((x=t(_))==null?void 0:x.name),1),y("form",{onSubmit:s[2]||(s[2]=(...n)=>t(V)&&t(V)(...n)),class:"form"},[c(v,D({placeholder:"Адрес точки",modelValue:t(r),"onUpdate:modelValue":s[0]||(s[0]=n=>S(r)?r.value=n:null)},t(F),{type:"text",class:"input"}),null,16,["modelValue"]),c(v,D({placeholder:"Email сотрудника",modelValue:t(i),"onUpdate:modelValue":s[1]||(s[1]=n=>S(i)?i.value=n:null)},t(I),{type:"text",class:"input"}),null,16,["modelValue"]),c(k,{disabled:t(f),variant:"secondary",class:"mt-3"},{default:K(()=>[L(b(t(f)?"Загрузка...":"Сохранить"),1)]),_:1},8,["disabled"])],32)])}}}),oe=P(J,[["__scopeId","data-v-9dc6e4c5"]]);export{oe as default};
